<!doctype html><html lang=ja><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>uniqueパッケージから学ぶinterningと弱参照 @ Asakusa.go &#183; からまるのブログ</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/images/ren.jpg><link href rel=alternate type=application/rss+xml title=からまるのブログ><meta property="og:url" content="https://karamaru-alpha.com/posts/unique-package/"><meta property="og:site_name" content="からまるのブログ"><meta property="og:title" content="uniqueパッケージから学ぶinterningと弱参照 @ Asakusa.go"><meta property="og:description" content="Asakusa.go#3(@ドクターズプライムさん)で登壇してきました！ Go1.23で追加されたuniqueパッケージの内部実装をたどりながら、Goの言語特性や既に存在していた最適化について、新しく導入された弱参照について調べました。"><meta property="og:locale" content="ja"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-15T02:56:17+09:00"><meta property="article:modified_time" content="2024-09-15T02:56:17+09:00"><meta property="og:image" content="https://karamaru-alpha.com/images/karamaru.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://karamaru-alpha.com/images/karamaru.jpg"><meta name=twitter:title content="uniqueパッケージから学ぶinterningと弱参照 @ Asakusa.go"><meta name=twitter:description content="Asakusa.go#3(@ドクターズプライムさん)で登壇してきました！ Go1.23で追加されたuniqueパッケージの内部実装をたどりながら、Goの言語特性や既に存在していた最適化について、新しく導入された弱参照について調べました。"><script src=/js/darkmode.js></script></head><body><nav class=nav><div class=nav-container><a href=/><h2 class=nav-title>からまるのブログ</h2></a><ul><li><a href=https://github.com/karamaru-alpha target=_blank rel="noopener noreferrer"><span>GitHub</span></a></li><li><a href=https://x.com/karamaru_alpha target=_blank rel="noopener noreferrer"><span>X</span></a></li><li><a href=https://speakerdeck.com/karamaru target=_blank rel="noopener noreferrer"><span>SpeackerDeck</span></a></li><li><a href=https://www.linkedin.com/in/karamaru target=_blank rel="noopener noreferrer"><span>LinkedIn</span></a></li><li><a href=https://karamaru-alpha.com/index.xml target=_blank rel="noopener noreferrer"><span>RSS</span></a></li></ul></div></nav><div id=darkModeToggle onclick=toggleDarkMode()>&#9680;</div><main><div class=post><div class=post-info><span></span><br><span>&nbsp;</span><time datetime="2024-09-15 02:56:17 +0900 +0900">2024/09/15</time></div><h1 class=post-title>uniqueパッケージから学ぶinterningと弱参照 @ Asakusa.go</h1><div class=post-line></div><p>Asakusa.go#3(@ドクターズプライムさん)で登壇してきました！
Go1.23で追加されたuniqueパッケージの内部実装をたどりながら、Goの言語特性や既に存在していた最適化について、新しく導入された弱参照について調べました。</p><h2 id=発表内容>発表内容</h2><div style=position:relative;padding-bottom:50%;padding-top:65px;overflow:hidden><iframe src=https://speakerdeck.com/player/e93a52af7d84472483b4a706b4bc8753 style=width:100%;height:100%;position:absolute;top:0;left:0 allowfullscreen mozallowfullscreen=true webkitallowfullscreen=true></iframe></div><ul><li>stringの割り当てと不変性、SSAによる最適化について学ぶ</li><li>uniqueパッケージの導入背景と特性を知り、ベンチマークをとる</li><li>主に新しく言語に取り入れられた弱参照を利用したmapの掃除について内部実装を辿る</li></ul><h2 id=雑談>雑談</h2><p>準備大変だったあああ😭</p><p>セッション枠がキャンセルされてその代打を引き受けてから2週間寝ずに調査・資料作成しました。
健康とメンタルの臨界点ギリギリで頑張りました。褒めてください🥺</p><p>uniqueパッケージを題材に選んだ理由は、<a href=https://tip.golang.org/doc/go1.23#new-unique-package>Go1.23のリリースノート</a>で挙動と存在理由が最も理解できない項目だったからです。
今回の発表準備を通じて、新しく入った機構(TrieHashMap/WeakPointer/Unique)への理解はもちろん、Goの言語特性や既に存在していた最適化についても知ることができて非常に学びになりました👏</p><p>特に弱参照の機構は仕組みは個人的に面白かったです！ (既にその機構が存在している他の言語利用者からすれば目新しくもなんともないかとは存じますがmm</p><p>runtimeについての知識がほぼなかったので調査が間に合うか不安でしたが、地道にコードリーディングやデバッグをして一定筋を通した資料ができてよかったです。(言ってること間違ってないといいなぁ&mldr;)
Go言語自身に対するデバッグ力は昔よりかは鍛えられた気がします、嬉しい。</p><p>イベント当日はすごく暖かい雰囲気で、お酒を飲みながらわいわい技術の話をできるのがいい意味で不思議な感じで、とても楽しかったです。
肝心の発表は時間の想定が甘くて結構スライドを飛ばしちゃったのが少し惜しかったですが、伝えたいことは言えたので満足です！
また、懇親会では様々な企業で働くエンジニアの方々と情報交換できました👏</p><p>余談ですが、会場にはちょっとだけ遅刻しましちゃいました、ごめんなさい😇
浅草って思ったより遠いんですね、、、タクシーを使う暴挙に出た上で間に合わなかったorz</p><p>こういう現実世界における詰めの甘いところがエンジニアの可愛げってものですよね。
嘘です、ごめんなさい。</p><h2 id=関連リンク>関連リンク</h2><ul><li><a href=https://speakerdeck.com/karamaru/unique-patukezikaraxue-bu-interning-to-weak-reference>https://speakerdeck.com/karamaru/unique-patukezikaraxue-bu-interning-to-weak-reference</a></li><li><a href=https://asakusago.connpass.com/event/327677/>https://asakusago.connpass.com/event/327677/</a></li></ul></div><div class=pagination><a href=/posts/ab-build-self-host/ class="left arrow">&#8592;</a>
<a href=/posts/drum-visualizer/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a></div></main><footer><span>&copy; <time datetime="2025-12-04 07:22:53.178818904 +0000 UTC m=+0.156759009">2025</time> . Made with <a href=https://gohugo.io>Hugo</a> using the <a href=https://github.com/EmielH/tale-hugo/>Tale</a> theme.</span></footer></body></html>